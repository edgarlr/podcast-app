{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/edgarlopez/Code/courses/react/next/podcasts/pages/channel.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport 'isomorphic-fetch';\nimport Layout from '../components/Layout';\nimport EpisodeList from '../components/EpisodeList';\nimport PodcastGrid from '../components/PodcastGrid';\nimport Error from 'next/error';\n\nvar channel = /*#__PURE__*/function (_React$Component) {\n  _inherits(channel, _React$Component);\n\n  var _super = _createSuper(channel);\n\n  function channel() {\n    _classCallCheck(this, channel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(channel, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          channel = _this$props.channel,\n          audioClips = _this$props.audioClips,\n          series = _this$props.series,\n          statusCode = _this$props.statusCode;\n\n      if (statusCode !== 200) {\n        return __jsx(Error, {\n          statusCode: statusCode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 14\n          }\n        });\n      }\n\n      return __jsx(Layout, {\n        title: \"\".concat(channel.title, \" | Podcast\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        style: {\n          backgroundImage: \"url(\".concat(channel.urls.banner_image.original, \")\")\n        },\n        className: \"jsx-3333162825\" + \" \" + 'banner',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }), __jsx(\"h1\", {\n        className: \"jsx-3333162825\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, channel.title), series.length > 0 && __jsx(\"div\", {\n        className: \"jsx-3333162825\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, __jsx(\"h2\", {\n        className: \"jsx-3333162825\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      }, \"Series\"), __jsx(PodcastGrid, {\n        channels: series,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      })), __jsx(\"h2\", {\n        className: \"jsx-3333162825\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, \"Ultimos Podcast\"), __jsx(EpisodeList, {\n        audioClips: audioClips,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }), __jsx(_JSXStyle, {\n        id: \"3333162825\",\n        __self: this\n      }, \"header.jsx-3333162825{color:#fff;background:#8756ca;padding:15px;text-align:center;}.banner.jsx-3333162825{width:100%;padding-bottom:25%;background-position:50% 50%;background-size:cover;background-color:#aaa;}.channels.jsx-3333162825{display:grid;grid-gap:15px;padding:15px;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));}a.channel.jsx-3333162825{display:block;margin-bottom:0.5em;color:#333;-webkit-text-decoration:none;text-decoration:none;}.channel.jsx-3333162825 img.jsx-3333162825{border-radius:3px;box-shadow:0px 2px 6px rgba(0,0,0,0.15);width:100%;}h1.jsx-3333162825{font-weight:600;padding:15px;}h2.jsx-3333162825{padding:5px;font-size:0.9em;font-weight:600;margin:0;text-align:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZGdhcmxvcGV6L0NvZGUvY291cnNlcy9yZWFjdC9uZXh0L3BvZGNhc3RzL3BhZ2VzL2NoYW5uZWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaUZvQixBQUd3QixBQU9BLEFBUUUsQUFNQyxBQU1JLEFBS0YsQUFJSixXQW5DTyxBQU9BLENBNkJILENBckJGLENBTU0sRUFXUCxFQUw4QixTQVg5QixDQXFCRyxDQUpsQixDQWhDZSxBQU9lLElBY2pCLE1BTGlELEdBZjFDLENBb0NULENBZlksUUFnQkgsS0E5QkksQUFtQlgsR0F6QmIsUUEwQkEsRUFXQSxTQTlCd0IsZUFjeEIsR0FOQSxJQVBBIiwiZmlsZSI6Ii9Vc2Vycy9lZGdhcmxvcGV6L0NvZGUvY291cnNlcy9yZWFjdC9uZXh0L3BvZGNhc3RzL3BhZ2VzL2NoYW5uZWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2lzb21vcnBoaWMtZmV0Y2gnO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCdcbmltcG9ydCBFcGlzb2RlTGlzdCBmcm9tICcuLi9jb21wb25lbnRzL0VwaXNvZGVMaXN0JztcbmltcG9ydCBQb2RjYXN0R3JpZCBmcm9tICcuLi9jb21wb25lbnRzL1BvZGNhc3RHcmlkJztcbmltcG9ydCBFcnJvciBmcm9tICduZXh0L2Vycm9yJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBjaGFubmVsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHsgcXVlcnkgfSl7XG4gICAgbGV0IGlkQ2hhbm5lbCA9IHF1ZXJ5LmlkXG5cbiAgICB0cnkge1xuICAgICAgbGV0IFtyZXFDaGFubmVsLCByZXFBdWRpb3MsIHJlcVNlcmllc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWRDaGFubmVsfT92ZXJzaW9uPTJgKSxcbiAgICAgICAgZmV0Y2goXG4gICAgICAgICAgYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9L2F1ZGlvX2NsaXBzP3ZlcnNpb249MmBcbiAgICAgICAgKSxcbiAgICAgICAgZmV0Y2goXG4gICAgICAgICAgYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9L2NoaWxkX2NoYW5uZWxzP3ZlcnNpb249MmBcbiAgICAgICAgKSxcbiAgICAgIF0pO1xuXG4gICAgICBpZiAocmVxQ2hhbm5lbC5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcUNoYW5uZWwuc3RhdHVzKTtcblxuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IHJlcUNoYW5uZWwuc3RhdHVzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNoYW5uZWw6IG51bGwsXG4gICAgICAgICAgYXVkaW9DbGlwOiBudWxsLFxuICAgICAgICAgIHNlcmllczogbnVsbCxcbiAgICAgICAgICBzdGF0dXNDb2RlOiA0MDQsXG4gICAgICAgIH07XG4gICAgICB9XG4gIFxuICAgICAgbGV0IGRhdGFDaGFubmVsID0gYXdhaXQgcmVxQ2hhbm5lbC5qc29uKCk7XG4gICAgICBsZXQgY2hhbm5lbCA9IGRhdGFDaGFubmVsLmJvZHkuY2hhbm5lbFxuICBcbiAgICAgIGxldCBkYXRhQXVkaW9zID0gYXdhaXQgcmVxQXVkaW9zLmpzb24oKTtcbiAgICAgIGxldCBhdWRpb0NsaXBzID0gZGF0YUF1ZGlvcy5ib2R5LmF1ZGlvX2NsaXBzXG4gIFxuICAgICAgbGV0IGRhdGFTZXJpZXMgPSBhd2FpdCByZXFTZXJpZXMuanNvbigpO1xuICAgICAgbGV0IHNlcmllcyA9IGRhdGFTZXJpZXMuYm9keS5jaGFubmVsc1xuICBcbiAgICAgIHJldHVybiB7IGNoYW5uZWwsIGF1ZGlvQ2xpcHMsIHNlcmllcywgc3RhdHVzQ29kZTogMjAwIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdIb2xhJyk7XG4gICAgICBcbiAgICAgIHJldHVybiB7Y2hhbm5lbDogbnVsbCwgYXVkaW9DbGlwOiBudWxsLCBzZXJpZXM6IG51bGwsIHN0YXR1c0NvZGU6IDUwM31cbiAgICB9XG5cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNoYW5uZWwsIGF1ZGlvQ2xpcHMsIHNlcmllcywgc3RhdHVzQ29kZSB9ID0gdGhpcy5wcm9wc1xuICAgIFxuICAgIGlmIChzdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgIHJldHVybiA8RXJyb3Igc3RhdHVzQ29kZT17c3RhdHVzQ29kZX0gLz47XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8TGF5b3V0IHRpdGxlPXtgJHtjaGFubmVsLnRpdGxlfSB8IFBvZGNhc3RgfT5cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPSdiYW5uZXInXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke2NoYW5uZWwudXJscy5iYW5uZXJfaW1hZ2Uub3JpZ2luYWx9KWAsXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cblxuICAgICAgICA8aDE+e2NoYW5uZWwudGl0bGV9PC9oMT5cblxuICAgICAgICB7c2VyaWVzLmxlbmd0aCA+IDAgJiYgXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMj5TZXJpZXM8L2gyPlxuICAgICAgICAgICAgPFBvZGNhc3RHcmlkIGNoYW5uZWxzPXtzZXJpZXN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cblxuICAgICAgICA8aDI+VWx0aW1vcyBQb2RjYXN0PC9oMj5cbiAgICAgICAgPEVwaXNvZGVMaXN0IGF1ZGlvQ2xpcHM9e2F1ZGlvQ2xpcHN9IC8+XG5cbiAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIGhlYWRlciB7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICM4NzU2Y2E7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5iYW5uZXIge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMjUlO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDUwJTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5jaGFubmVscyB7XG4gICAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgICAgZ3JpZC1nYXA6IDE1cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMTYwcHgsIDFmcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhLmNoYW5uZWwge1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjVlbTtcbiAgICAgICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY2hhbm5lbCBpbWcge1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoMSB7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaDIge1xuICAgICAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG5cbiAgICAgIDwvTGF5b3V0PlxuICAgICk7XG4gIH1cbn1cbiJdfQ== */\\n/*@ sourceURL=/Users/edgarlopez/Code/courses/react/next/podcasts/pages/channel.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var query, idChannel, _await$Promise$all, _await$Promise$all2, reqChannel, reqAudios, reqSeries, dataChannel, _channel, dataAudios, audioClips, dataSeries, series;\n\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              query = _ref.query;\n              idChannel = query.id;\n              _context.prev = 2;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(Promise.all([fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"?version=2\")), fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"/audio_clips?version=2\")), fetch(\"https://api.audioboom.com/channels/\".concat(idChannel, \"/child_channels?version=2\"))]));\n\n            case 5:\n              _await$Promise$all = _context.sent;\n              _await$Promise$all2 = _slicedToArray(_await$Promise$all, 3);\n              reqChannel = _await$Promise$all2[0];\n              reqAudios = _await$Promise$all2[1];\n              reqSeries = _await$Promise$all2[2];\n\n              if (!(reqChannel.status >= 400)) {\n                _context.next = 14;\n                break;\n              }\n\n              console.log(reqChannel.status);\n              res.statusCode = reqChannel.status;\n              return _context.abrupt(\"return\", {\n                channel: null,\n                audioClip: null,\n                series: null,\n                statusCode: 404\n              });\n\n            case 14:\n              _context.next = 16;\n              return _regeneratorRuntime.awrap(reqChannel.json());\n\n            case 16:\n              dataChannel = _context.sent;\n              _channel = dataChannel.body.channel;\n              _context.next = 20;\n              return _regeneratorRuntime.awrap(reqAudios.json());\n\n            case 20:\n              dataAudios = _context.sent;\n              audioClips = dataAudios.body.audio_clips;\n              _context.next = 24;\n              return _regeneratorRuntime.awrap(reqSeries.json());\n\n            case 24:\n              dataSeries = _context.sent;\n              series = dataSeries.body.channels;\n              return _context.abrupt(\"return\", {\n                channel: _channel,\n                audioClips: audioClips,\n                series: series,\n                statusCode: 200\n              });\n\n            case 29:\n              _context.prev = 29;\n              _context.t0 = _context[\"catch\"](2);\n              console.log('Hola');\n              return _context.abrupt(\"return\", {\n                channel: null,\n                audioClip: null,\n                series: null,\n                statusCode: 503\n              });\n\n            case 33:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[2, 29]], Promise);\n    }\n  }]);\n\n  return channel;\n}(React.Component);\n\nexport { channel as default };","map":{"version":3,"sources":["/Users/edgarlopez/Code/courses/react/next/podcasts/pages/channel.js"],"names":["Layout","EpisodeList","PodcastGrid","Error","channel","props","audioClips","series","statusCode","title","backgroundImage","urls","banner_image","original","length","query","idChannel","id","Promise","all","fetch","reqChannel","reqAudios","reqSeries","status","console","log","res","audioClip","json","dataChannel","body","dataAudios","audio_clips","dataSeries","channels","React","Component"],"mappings":"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","sourcesContent":["import 'isomorphic-fetch';\nimport Layout from '../components/Layout'\nimport EpisodeList from '../components/EpisodeList';\nimport PodcastGrid from '../components/PodcastGrid';\nimport Error from 'next/error'\n\nexport default class channel extends React.Component {\n\n  static async getInitialProps({ query }){\n    let idChannel = query.id\n\n    try {\n      let [reqChannel, reqAudios, reqSeries] = await Promise.all([\n        fetch(`https://api.audioboom.com/channels/${idChannel}?version=2`),\n        fetch(\n          `https://api.audioboom.com/channels/${idChannel}/audio_clips?version=2`\n        ),\n        fetch(\n          `https://api.audioboom.com/channels/${idChannel}/child_channels?version=2`\n        ),\n      ]);\n\n      if (reqChannel.status >= 400) {\n        console.log(reqChannel.status);\n\n        res.statusCode = reqChannel.status;\n        return {\n          channel: null,\n          audioClip: null,\n          series: null,\n          statusCode: 404,\n        };\n      }\n  \n      let dataChannel = await reqChannel.json();\n      let channel = dataChannel.body.channel\n  \n      let dataAudios = await reqAudios.json();\n      let audioClips = dataAudios.body.audio_clips\n  \n      let dataSeries = await reqSeries.json();\n      let series = dataSeries.body.channels\n  \n      return { channel, audioClips, series, statusCode: 200 };\n    } catch (error) {\n      console.log('Hola');\n      \n      return {channel: null, audioClip: null, series: null, statusCode: 503}\n    }\n\n  }\n\n  render() {\n    const { channel, audioClips, series, statusCode } = this.props\n    \n    if (statusCode !== 200) {\n      return <Error statusCode={statusCode} />;\n    }\n    \n    return (\n      <Layout title={`${channel.title} | Podcast`}>\n\n        <div\n          className='banner'\n          style={{\n            backgroundImage: `url(${channel.urls.banner_image.original})`,\n          }}\n        />\n\n        <h1>{channel.title}</h1>\n\n        {series.length > 0 && \n          <div>\n            <h2>Series</h2>\n            <PodcastGrid channels={series} />\n          </div>\n        }\n\n        <h2>Ultimos Podcast</h2>\n        <EpisodeList audioClips={audioClips} />\n\n        <style jsx>{`\n          header {\n            color: #fff;\n            background: #8756ca;\n            padding: 15px;\n            text-align: center;\n          }\n\n          .banner {\n            width: 100%;\n            padding-bottom: 25%;\n            background-position: 50% 50%;\n            background-size: cover;\n            background-color: #aaa;\n          }\n\n          .channels {\n            display: grid;\n            grid-gap: 15px;\n            padding: 15px;\n            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n          }\n          a.channel {\n            display: block;\n            margin-bottom: 0.5em;\n            color: #333;\n            text-decoration: none;\n          }\n          .channel img {\n            border-radius: 3px;\n            box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n            width: 100%;\n          }\n          h1 {\n            font-weight: 600;\n            padding: 15px;\n          }\n          h2 {\n            padding: 5px;\n            font-size: 0.9em;\n            font-weight: 600;\n            margin: 0;\n            text-align: center;\n          }\n        `}</style>\n\n      </Layout>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}