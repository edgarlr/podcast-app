{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Users/edgarlopez/Code/courses/react/next/podcasts/pages/[channel]/[podcast].js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport 'isomorphic-fetch';\nimport Link from 'next/link';\nimport AudioControls from '../../components/AudioControls';\nimport { MdKeyboardArrowLeft } from 'react-icons/md';\nimport TranslucentImage from '../../components/TranslucentImage';\nimport { useContext, useState, useEffect } from 'react';\nimport { PlayerContext } from '../../contexts/PlayerContext';\nimport { useRouter } from 'next/router';\nexport var __N_SSP = true;\nexport default function podcast(_ref) {\n  var audioClips = _ref.audioClips;\n  var router = useRouter();\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useContext = useContext(PlayerContext),\n      SetCurrentIndex = _useContext.SetCurrentIndex,\n      SetPlaylist = _useContext.SetPlaylist,\n      SetCurrent = _useContext.SetCurrent,\n      currentSong = _useContext.currentSong,\n      currentSongIndex = _useContext.currentSongIndex,\n      playing = _useContext.playing,\n      togglePlaying = _useContext.togglePlaying,\n      playlist = _useContext.playlist;\n\n  useEffect(function () {\n    var setContextState = function setContextState() {\n      var i;\n      return _regeneratorRuntime.async(function setContextState$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (playlist === null) {\n                SetPlaylist(audioClips);\n              }\n\n              i = 0;\n\n            case 2:\n              if (!(i < audioClips.length)) {\n                _context.next = 12;\n                break;\n              }\n\n              if (!(router.query.podcast == audioClips[i].id)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(SetCurrentIndex(i));\n\n            case 6:\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(SetCurrent(audioClips[i]));\n\n            case 8:\n              setLoading(false);\n\n            case 9:\n              i++;\n              _context.next = 2;\n              break;\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    setContextState();\n  }, []);\n  useEffect(function () {\n    var updateContextState = function updateContextState() {\n      var i;\n      return _regeneratorRuntime.async(function updateContextState$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true);\n              i = 0;\n\n            case 2:\n              if (!(i < playlist.length)) {\n                _context2.next = 10;\n                break;\n              }\n\n              if (!(currentSongIndex == playlist[i].id)) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(SetCurrent(playlist[i]));\n\n            case 6:\n              setLoading(false);\n\n            case 7:\n              i++;\n              _context2.next = 2;\n              break;\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    updateContextState();\n  }, [currentSongIndex]);\n\n  if (loading) {\n    return __jsx(\"div\", {\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 12\n      }\n    }, \"...\");\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-1887283010\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1887283010\" + \" \" + 'modal',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1887283010\" + \" \" + 'clip',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, __jsx(\"nav\", {\n    className: \"jsx-1887283010\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/[channel]?id=\".concat(currentSong.channel.id),\n    as: \"/\".concat(currentSong.channel.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"jsx-1887283010\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, __jsx(MdKeyboardArrowLeft, {\n    size: \"24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  })))), __jsx(\"div\", {\n    className: \"jsx-1887283010\" + \" \" + 'img-container',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, __jsx(TranslucentImage, {\n    clipUrls: currentSong.urls,\n    channelUrls: currentSong.channel.urls,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"jsx-1887283010\" + \" \" + 'info',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"jsx-1887283010\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, currentSong.title), __jsx(\"h6\", {\n    className: \"jsx-1887283010\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, currentSong.channel.title)), __jsx(AudioControls, {\n    clipSrc: currentSong.urls.high_mp3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }))), __jsx(_JSXStyle, {\n    id: \"2211144777\",\n    __self: this\n  }, \".modal.jsx-1887283010{position:fixed;top:0;left:0;right:0;bottom:0;overflow-y:auto;z-index:99999;background:#131414;}.clip.jsx-1887283010{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:2em 2em;height:85%;min-height:600px;max-height:750px;top:0;color:white;}nav.jsx-1887283010{padding:0;background:none;}nav.jsx-1887283010 a.jsx-1887283010{color:white;cursor:pointer;}.img-container.jsx-1887283010{width:80%;max-width:250px;margin:0 auto;position:relative;}.info.jsx-1887283010{width:90%;margin:1em auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;}h3.jsx-1887283010{margin:8px 0;font-size:16px;}h6.jsx-1887283010{margin:0;font-size:12px;font-weight:400;color:#a8a8a8;text-transform:uppercase;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZGdhcmxvcGV6L0NvZGUvY291cnNlcy9yZWFjdC9uZXh0L3BvZGNhc3RzL3BhZ2VzL1tjaGFubmVsXS9bcG9kY2FzdF0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0drQixBQUcwQixBQVVGLEFBV0gsQUFJRSxBQUlGLEFBTUEsQUFRRyxBQUlKLFNBQ00sQ0ExQkMsQUFRQSxBQU1BLEVBVkQsQ0FrQkEsRUEzQ1QsTUFDQyxHQStDUyxFQTFCbEIsQUFRZ0IsQUFNSyxDQVZyQixDQXhCVSxBQTBDVixRQXpDVyxJQTRCUyxBQWtCSixLQTdDRSxBQWlDQSxTQWFTLElBbEIzQixHQTNCZ0IsQUFpQ1MsYUE1QkQsQ0FKSCxJQTZDckIsS0Fab0IsVUFoQ3BCLFFBaUNBLGtEQTdCZ0MsbUhBQ2QsZ0JBQ0wsV0FDTSxpQkFDQSxpQkFDWCxNQUNNLFlBQ2QiLCJmaWxlIjoiL1VzZXJzL2VkZ2FybG9wZXovQ29kZS9jb3Vyc2VzL3JlYWN0L25leHQvcG9kY2FzdHMvcGFnZXMvW2NoYW5uZWxdL1twb2RjYXN0XS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnaXNvbW9ycGhpYy1mZXRjaCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IEF1ZGlvQ29udHJvbHMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9BdWRpb0NvbnRyb2xzJztcbmltcG9ydCB7IE1kS2V5Ym9hcmRBcnJvd0xlZnQgfSBmcm9tICdyZWFjdC1pY29ucy9tZCc7XG5pbXBvcnQgVHJhbnNsdWNlbnRJbWFnZSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RyYW5zbHVjZW50SW1hZ2UnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBsYXllckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0cy9QbGF5ZXJDb250ZXh0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyhjb250ZXh0KSB7XG4gIGxldCBpZENoYW5uZWwgPSBjb250ZXh0LnF1ZXJ5LmNoYW5uZWw7XG4gIFxuICBsZXQgcmVxID0gYXdhaXQgZmV0Y2goXG4gICAgYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9L2F1ZGlvX2NsaXBzP3ZlcnNpb249MmBcbiAgICApO1xuICAgIFxuICBsZXQgZGF0YSA9IGF3YWl0IHJlcS5qc29uKClcbiAgbGV0IGF1ZGlvQ2xpcHMgPSBkYXRhLmJvZHkuYXVkaW9fY2xpcHM7XG4gIFxuICByZXR1cm4ge3Byb3BzOiB7YXVkaW9DbGlwc319XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvZGNhc3QoeyBhdWRpb0NsaXBzIH0pIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG5cbiAgY29uc3Qge1xuICAgIFNldEN1cnJlbnRJbmRleCxcbiAgICBTZXRQbGF5bGlzdCxcbiAgICBTZXRDdXJyZW50LFxuICAgIGN1cnJlbnRTb25nLFxuICAgIGN1cnJlbnRTb25nSW5kZXgsXG4gICAgcGxheWluZyxcbiAgICB0b2dnbGVQbGF5aW5nLFxuICAgIHBsYXlsaXN0XG4gIH0gPSB1c2VDb250ZXh0KFBsYXllckNvbnRleHQpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc2V0Q29udGV4dFN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHBsYXlsaXN0ID09PSBudWxsKSB7XG4gICAgICAgIFNldFBsYXlsaXN0KGF1ZGlvQ2xpcHMpXG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF1ZGlvQ2xpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJvdXRlci5xdWVyeS5wb2RjYXN0ID09IGF1ZGlvQ2xpcHNbaV0uaWQpIHtcbiAgICAgICAgICBhd2FpdCBTZXRDdXJyZW50SW5kZXgoaSlcbiAgICAgICAgICBhd2FpdCBTZXRDdXJyZW50KGF1ZGlvQ2xpcHNbaV0pXG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzZXRDb250ZXh0U3RhdGUoKVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZUNvbnRleHRTdGF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxheWxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGN1cnJlbnRTb25nSW5kZXggPT0gcGxheWxpc3RbaV0uaWQpIHtcbiAgICAgICAgICBhd2FpdCBTZXRDdXJyZW50KHBsYXlsaXN0W2ldKVxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ29udGV4dFN0YXRlKClcbiAgfSwgW2N1cnJlbnRTb25nSW5kZXhdKVxuXG4gIFxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsXCI+Li4uPC9kaXY+XG4gIH1cbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdtb2RhbCc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjbGlwJz5cbiAgICAgICAgICA8bmF2PlxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgaHJlZj17YC9bY2hhbm5lbF0/aWQ9JHtjdXJyZW50U29uZy5jaGFubmVsLmlkfWB9XG4gICAgICAgICAgICAgIGFzPXtgLyR7Y3VycmVudFNvbmcuY2hhbm5lbC5pZH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8YT5cbiAgICAgICAgICAgICAgICA8TWRLZXlib2FyZEFycm93TGVmdCBzaXplPScyNHB4JyAvPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9uYXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW1nLWNvbnRhaW5lcic+XG4gICAgICAgICAgICA8VHJhbnNsdWNlbnRJbWFnZVxuICAgICAgICAgICAgICBjbGlwVXJscz17Y3VycmVudFNvbmcudXJsc31cbiAgICAgICAgICAgICAgY2hhbm5lbFVybHM9e2N1cnJlbnRTb25nLmNoYW5uZWwudXJsc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW5mbyc+XG4gICAgICAgICAgICA8aDM+e2N1cnJlbnRTb25nLnRpdGxlfTwvaDM+XG4gICAgICAgICAgICA8aDY+e2N1cnJlbnRTb25nLmNoYW5uZWwudGl0bGV9PC9oNj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxBdWRpb0NvbnRyb2xzIGNsaXBTcmM9e2N1cnJlbnRTb25nLnVybHMuaGlnaF9tcDN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLm1vZGFsIHtcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgICAgei1pbmRleDogOTk5OTk7XG4gICAgICAgICAgYmFja2dyb3VuZDogIzEzMTQxNDtcbiAgICAgICAgfVxuICAgICAgICAuY2xpcCB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBwYWRkaW5nOiAyZW0gMmVtO1xuICAgICAgICAgIGhlaWdodDogODUlO1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDYwMHB4O1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDc1MHB4O1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIH1cbiAgICAgICAgbmF2IHtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgbmF2IGEge1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLmltZy1jb250YWluZXIge1xuICAgICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgICAgbWF4LXdpZHRoOiAyNTBweDtcbiAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIH1cbiAgICAgICAgLmluZm8ge1xuICAgICAgICAgIHdpZHRoOiA5MCU7XG4gICAgICAgICAgbWFyZ2luOiAxZW0gYXV0bztcbiAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIGgzIHtcbiAgICAgICAgICBtYXJnaW46IDhweCAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgfVxuICAgICAgICBoNiB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgIGNvbG9yOiAjYThhOGE4O1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cblxuICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXX0= */\\n/*@ sourceURL=/Users/edgarlopez/Code/courses/react/next/podcasts/pages/[channel]/[podcast].js */\"), __jsx(_JSXStyle, {\n    id: \"632560994\",\n    __self: this\n  }, \"body{margin:0;background:#fff;font-family:'Roboto',sans-serif;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZGdhcmxvcGV6L0NvZGUvY291cnNlcy9yZWFjdC9uZXh0L3BvZGNhc3RzL3BhZ2VzL1tjaGFubmVsXS9bcG9kY2FzdF0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0p5QixBQUdvQixTQUNPLGdCQUNpQixnQ0FDbkMiLCJmaWxlIjoiL1VzZXJzL2VkZ2FybG9wZXovQ29kZS9jb3Vyc2VzL3JlYWN0L25leHQvcG9kY2FzdHMvcGFnZXMvW2NoYW5uZWxdL1twb2RjYXN0XS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnaXNvbW9ycGhpYy1mZXRjaCc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuaW1wb3J0IEF1ZGlvQ29udHJvbHMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9BdWRpb0NvbnRyb2xzJztcbmltcG9ydCB7IE1kS2V5Ym9hcmRBcnJvd0xlZnQgfSBmcm9tICdyZWFjdC1pY29ucy9tZCc7XG5pbXBvcnQgVHJhbnNsdWNlbnRJbWFnZSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RyYW5zbHVjZW50SW1hZ2UnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBsYXllckNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0cy9QbGF5ZXJDb250ZXh0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyhjb250ZXh0KSB7XG4gIGxldCBpZENoYW5uZWwgPSBjb250ZXh0LnF1ZXJ5LmNoYW5uZWw7XG4gIFxuICBsZXQgcmVxID0gYXdhaXQgZmV0Y2goXG4gICAgYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9L2F1ZGlvX2NsaXBzP3ZlcnNpb249MmBcbiAgICApO1xuICAgIFxuICBsZXQgZGF0YSA9IGF3YWl0IHJlcS5qc29uKClcbiAgbGV0IGF1ZGlvQ2xpcHMgPSBkYXRhLmJvZHkuYXVkaW9fY2xpcHM7XG4gIFxuICByZXR1cm4ge3Byb3BzOiB7YXVkaW9DbGlwc319XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvZGNhc3QoeyBhdWRpb0NsaXBzIH0pIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG5cbiAgY29uc3Qge1xuICAgIFNldEN1cnJlbnRJbmRleCxcbiAgICBTZXRQbGF5bGlzdCxcbiAgICBTZXRDdXJyZW50LFxuICAgIGN1cnJlbnRTb25nLFxuICAgIGN1cnJlbnRTb25nSW5kZXgsXG4gICAgcGxheWluZyxcbiAgICB0b2dnbGVQbGF5aW5nLFxuICAgIHBsYXlsaXN0XG4gIH0gPSB1c2VDb250ZXh0KFBsYXllckNvbnRleHQpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc2V0Q29udGV4dFN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHBsYXlsaXN0ID09PSBudWxsKSB7XG4gICAgICAgIFNldFBsYXlsaXN0KGF1ZGlvQ2xpcHMpXG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF1ZGlvQ2xpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJvdXRlci5xdWVyeS5wb2RjYXN0ID09IGF1ZGlvQ2xpcHNbaV0uaWQpIHtcbiAgICAgICAgICBhd2FpdCBTZXRDdXJyZW50SW5kZXgoaSlcbiAgICAgICAgICBhd2FpdCBTZXRDdXJyZW50KGF1ZGlvQ2xpcHNbaV0pXG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzZXRDb250ZXh0U3RhdGUoKVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZUNvbnRleHRTdGF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxheWxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGN1cnJlbnRTb25nSW5kZXggPT0gcGxheWxpc3RbaV0uaWQpIHtcbiAgICAgICAgICBhd2FpdCBTZXRDdXJyZW50KHBsYXlsaXN0W2ldKVxuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ29udGV4dFN0YXRlKClcbiAgfSwgW2N1cnJlbnRTb25nSW5kZXhdKVxuXG4gIFxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsXCI+Li4uPC9kaXY+XG4gIH1cbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdtb2RhbCc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdjbGlwJz5cbiAgICAgICAgICA8bmF2PlxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgaHJlZj17YC9bY2hhbm5lbF0/aWQ9JHtjdXJyZW50U29uZy5jaGFubmVsLmlkfWB9XG4gICAgICAgICAgICAgIGFzPXtgLyR7Y3VycmVudFNvbmcuY2hhbm5lbC5pZH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8YT5cbiAgICAgICAgICAgICAgICA8TWRLZXlib2FyZEFycm93TGVmdCBzaXplPScyNHB4JyAvPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9uYXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW1nLWNvbnRhaW5lcic+XG4gICAgICAgICAgICA8VHJhbnNsdWNlbnRJbWFnZVxuICAgICAgICAgICAgICBjbGlwVXJscz17Y3VycmVudFNvbmcudXJsc31cbiAgICAgICAgICAgICAgY2hhbm5lbFVybHM9e2N1cnJlbnRTb25nLmNoYW5uZWwudXJsc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW5mbyc+XG4gICAgICAgICAgICA8aDM+e2N1cnJlbnRTb25nLnRpdGxlfTwvaDM+XG4gICAgICAgICAgICA8aDY+e2N1cnJlbnRTb25nLmNoYW5uZWwudGl0bGV9PC9oNj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxBdWRpb0NvbnRyb2xzIGNsaXBTcmM9e2N1cnJlbnRTb25nLnVybHMuaGlnaF9tcDN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLm1vZGFsIHtcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgICAgei1pbmRleDogOTk5OTk7XG4gICAgICAgICAgYmFja2dyb3VuZDogIzEzMTQxNDtcbiAgICAgICAgfVxuICAgICAgICAuY2xpcCB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBwYWRkaW5nOiAyZW0gMmVtO1xuICAgICAgICAgIGhlaWdodDogODUlO1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDYwMHB4O1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDc1MHB4O1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIH1cbiAgICAgICAgbmF2IHtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgbmF2IGEge1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLmltZy1jb250YWluZXIge1xuICAgICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgICAgbWF4LXdpZHRoOiAyNTBweDtcbiAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIH1cbiAgICAgICAgLmluZm8ge1xuICAgICAgICAgIHdpZHRoOiA5MCU7XG4gICAgICAgICAgbWFyZ2luOiAxZW0gYXV0bztcbiAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIGgzIHtcbiAgICAgICAgICBtYXJnaW46IDhweCAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgfVxuICAgICAgICBoNiB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgIGNvbG9yOiAjYThhOGE4O1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cblxuICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXX0= */\\n/*@ sourceURL=/Users/edgarlopez/Code/courses/react/next/podcasts/pages/[channel]/[podcast].js */\"));\n}","map":{"version":3,"sources":["/Users/edgarlopez/Code/courses/react/next/podcasts/pages/[channel]/[podcast].js"],"names":["Link","AudioControls","MdKeyboardArrowLeft","TranslucentImage","useContext","useState","useEffect","PlayerContext","useRouter","podcast","audioClips","router","loading","setLoading","SetCurrentIndex","SetPlaylist","SetCurrent","currentSong","currentSongIndex","playing","togglePlaying","playlist","setContextState","i","length","query","id","updateContextState","channel","urls","title","high_mp3"],"mappings":"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","sourcesContent":["import 'isomorphic-fetch';\nimport Link from 'next/link';\nimport AudioControls from '../../components/AudioControls';\nimport { MdKeyboardArrowLeft } from 'react-icons/md';\nimport TranslucentImage from '../../components/TranslucentImage';\nimport { useContext, useState, useEffect } from 'react';\nimport { PlayerContext } from '../../contexts/PlayerContext';\nimport { useRouter } from 'next/router';\n\nexport async function getServerSideProps(context) {\n  let idChannel = context.query.channel;\n  \n  let req = await fetch(\n    `https://api.audioboom.com/channels/${idChannel}/audio_clips?version=2`\n    );\n    \n  let data = await req.json()\n  let audioClips = data.body.audio_clips;\n  \n  return {props: {audioClips}}\n}\n\nexport default function podcast({ audioClips }) {\n  const router = useRouter();\n  const [loading, setLoading] = useState(true)\n\n  const {\n    SetCurrentIndex,\n    SetPlaylist,\n    SetCurrent,\n    currentSong,\n    currentSongIndex,\n    playing,\n    togglePlaying,\n    playlist\n  } = useContext(PlayerContext);\n\n  useEffect(() => {\n    const setContextState = async () => {\n      if (playlist === null) {\n        SetPlaylist(audioClips)\n      }\n      for (let i = 0; i < audioClips.length; i++) {\n        if (router.query.podcast == audioClips[i].id) {\n          await SetCurrentIndex(i)\n          await SetCurrent(audioClips[i])\n          setLoading(false)\n        }\n      }\n    }\n    setContextState()\n  }, [])\n\n  useEffect(() => {\n    const updateContextState = async () => {\n      setLoading(true)\n      for (let i = 0; i < playlist.length; i++) {\n        if (currentSongIndex == playlist[i].id) {\n          await SetCurrent(playlist[i])\n          setLoading(false)\n        }\n      }\n    }\n    updateContextState()\n  }, [currentSongIndex])\n\n  \n  if (loading) {\n    return <div className=\"modal\">...</div>\n  }\n  \n  return (\n    <div>\n      <div className='modal'>\n        <div className='clip'>\n          <nav>\n            <Link\n              href={`/[channel]?id=${currentSong.channel.id}`}\n              as={`/${currentSong.channel.id}`}\n            >\n              <a>\n                <MdKeyboardArrowLeft size='24px' />\n              </a>\n            </Link>\n          </nav>\n\n          <div className='img-container'>\n            <TranslucentImage\n              clipUrls={currentSong.urls}\n              channelUrls={currentSong.channel.urls}\n            />\n          </div>\n\n          <div className='info'>\n            <h3>{currentSong.title}</h3>\n            <h6>{currentSong.channel.title}</h6>\n          </div>\n\n          <AudioControls clipSrc={currentSong.urls.high_mp3} />\n        </div>\n      </div>\n\n      <style jsx>{`\n        .modal {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          overflow-y: auto;\n          z-index: 99999;\n          background: #131414;\n        }\n        .clip {\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          padding: 2em 2em;\n          height: 85%;\n          min-height: 600px;\n          max-height: 750px;\n          top: 0;\n          color: white;\n        }\n        nav {\n          padding: 0;\n          background: none;\n        }\n        nav a {\n          color: white;\n          cursor: pointer;\n        }\n        .img-container {\n          width: 80%;\n          max-width: 250px;\n          margin: 0 auto;\n          position: relative;\n        }\n        .info {\n          width: 90%;\n          margin: 1em auto;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          text-align: center;\n        }\n        h3 {\n          margin: 8px 0;\n          font-size: 16px;\n        }\n        h6 {\n          margin: 0;\n          font-size: 12px;\n          font-weight: 400;\n          color: #a8a8a8;\n          text-transform: uppercase;\n        }\n      `}</style>\n\n      <style jsx global>{`\n        body {\n          margin: 0;\n          background: #fff;\n          font-family: 'Roboto', sans-serif;\n        }\n      `}</style>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}