{"ast":null,"code":"import { useState } from \"react\";\nexport var useLocalStorage = function useLocalStorage(key, initialValue) {\n  var _useState = useState(function () {\n    try {\n      var item = window.localStorage.getItem(key);\n      return item !== null ? JSON.parse(item) : initialValue;\n    } catch (e) {\n      return initialValue;\n    }\n  }),\n      storedValue = _useState[0],\n      setStoredValue = _useState[1];\n\n  var setLocalStorage = function setLocalStorage(value) {\n    try {\n      var itemValue = function itemValue() {\n        if (typeof value === String) {\n          return value;\n        }\n\n        return JSON.stringify(value);\n      };\n\n      window.localStorage.setItem(key, itemValue());\n      setStoredValue(value);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return [storedValue, setLocalStorage];\n};","map":{"version":3,"sources":["/Users/edgarlopez/Code/courses/react/next/podcasts/hooks/useLocalStorage.js"],"names":["useState","useLocalStorage","key","initialValue","item","window","localStorage","getItem","JSON","parse","e","storedValue","setStoredValue","setLocalStorage","value","itemValue","String","stringify","setItem","console","log"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,GAAD,EAAMC,YAAN,EAAuB;AAAA,kBACdH,QAAQ,CAAC,YAAM;AACnD,QAAI;AACF,UAAMI,IAAI,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BL,GAA5B,CAAb;AACA,aAAQE,IAAI,KAAK,IAAT,GAAgBI,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAhB,GAAmCD,YAA3C;AACD,KAHD,CAGE,OAAMO,CAAN,EAAS;AACT,aAAOP,YAAP;AACD;AACF,GAP6C,CADM;AAAA,MAC7CQ,WAD6C;AAAA,MAChCC,cADgC;;AAUpD,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,QAAI;AACF,UAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,YAAG,OAAOD,KAAP,KAAiBE,MAApB,EAA4B;AAC1B,iBAAOF,KAAP;AACD;;AACD,eAAON,IAAI,CAACS,SAAL,CAAeH,KAAf,CAAP;AACD,OALD;;AAOAT,MAAAA,MAAM,CAACC,YAAP,CAAoBY,OAApB,CAA4BhB,GAA5B,EAAiCa,SAAS,EAA1C;AACAH,MAAAA,cAAc,CAACE,KAAD,CAAd;AACD,KAVD,CAUE,OAAOJ,CAAP,EAAU;AACVS,MAAAA,OAAO,CAACC,GAAR,CAAYV,CAAZ;AAED;AACF,GAfD;;AAgBA,SAAO,CAACC,WAAD,EAAcE,eAAd,CAAP;AACD,CA3BM","sourcesContent":["import { useState } from \"react\"\n\nexport const useLocalStorage = (key, initialValue) => {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key)\n      return (item !== null ? JSON.parse(item) : initialValue)\n    } catch(e) {\n      return initialValue\n    }\n  })\n\n  const setLocalStorage = value => {\n    try {\n      const itemValue = () => {\n        if(typeof value === String) {\n          return value\n        }\n        return JSON.stringify(value)\n      }\n\n      window.localStorage.setItem(key, itemValue())\n      setStoredValue(value)\n    } catch (e) {\n      console.log(e);\n      \n    }\n  }\n  return [storedValue, setLocalStorage]\n}"]},"metadata":{},"sourceType":"module"}