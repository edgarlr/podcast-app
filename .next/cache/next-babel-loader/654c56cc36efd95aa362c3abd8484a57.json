{"ast":null,"code":"var _jsxFileName = \"/Users/edgarlopez/Code/courses/react/next/podcasts/pages/[channel].js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport 'isomorphic-fetch';\nimport Layout from '../components/Layout';\nimport EpisodeList from '../components/EpisodeList';\nimport PodcastGrid from '../components/PodcastGrid';\nimport Error from './_error';\nexport async function getServerSideProps(context) {\n  let idChannel = context.query.channel;\n\n  try {\n    let [reqChannel, reqAudios, reqSeries] = await Promise.all([fetch(`https://api.audioboom.com/channels/${idChannel}?version=2`), fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips?version=2`), fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels?version=2`)]);\n    context.res.statusCode = reqChannel.status;\n    let dataChannel = await reqChannel.json();\n    let channel = dataChannel.body.channel;\n    let dataAudios = await reqAudios.json();\n    let audioClips = dataAudios.body.audio_clips;\n    let dataSeries = await reqSeries.json();\n    let series = dataSeries.body.channels;\n    return {\n      props: {\n        channel,\n        audioClips,\n        series,\n        statusCode: context.res.statusCode\n      }\n    };\n  } catch (error) {\n    return {\n      props: {\n        channel: null,\n        audioClip: null,\n        series: null,\n        statusCode: context.res.statusCode\n      }\n    };\n  }\n}\nexport default function channel({\n  channel,\n  audioClips,\n  series,\n  statusCode\n}) {\n  if (statusCode !== 200) {\n    return __jsx(Error, {\n      statusCode: statusCode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(Layout, {\n    title: `${channel.title} | Podcast`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    style: {\n      backgroundImage: `url(${channel.urls.banner_image.original})`\n    },\n    className: \"jsx-1374117803\" + \" \" + 'banner',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), __jsx(\"h1\", {\n    className: \"jsx-1374117803\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, channel.title), series.length > 0 && __jsx(\"div\", {\n    className: \"jsx-1374117803\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, __jsx(PodcastGrid, {\n    channels: series,\n    title: `series de ${channel.title}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  })), __jsx(\"h2\", {\n    className: \"jsx-1374117803\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"Ultimos Podcast\"), __jsx(EpisodeList, {\n    audioClips: audioClips,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), __jsx(_JSXStyle, {\n    id: \"1374117803\",\n    __self: this\n  }, \".banner.jsx-1374117803{width:100%;padding-bottom:25%;background-position:50% 50%;background-size:cover;background-color:#aaa;}.channels.jsx-1374117803{display:grid;grid-gap:10px;padding:15px 36px;grid-template-columns:repeat(auto-fill,minmax(145px,1fr));}a.channel.jsx-1374117803{display:block;margin-bottom:0.5em;color:#333;-webkit-text-decoration:none;text-decoration:none;}.channel.jsx-1374117803 img.jsx-1374117803{border-radius:3px;box-shadow:0px 2px 6px rgba(0,0,0,0.15);width:100%;}h1.jsx-1374117803{font-weight:600;padding:15px;}h2.jsx-1374117803{padding:5px;font-size:0.9em;font-weight:600;margin:0;text-align:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZGdhcmxvcGV6L0NvZGUvY291cnNlcy9yZWFjdC9uZXh0L3BvZGNhc3RzL3BhZ2VzL1tjaGFubmVsXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEyRWtCLEFBR3NCLEFBUUUsQUFNQyxBQU1JLEFBS0YsQUFJSixXQTVCTyxDQTZCSCxDQXJCRixDQU1NLEVBV1AsRUFMOEIsU0FYekIsQ0FxQkYsQ0FKbEIsQ0F6QjhCLElBY2pCLFVBZ0JGLENBckJtRCxBQU12QyxRQWdCSCxLQTlCSSxBQW1CWCxXQUNiLEVBV0EsU0E5QndCLGVBY3hCLE9BYkEsQ0FPQSIsImZpbGUiOiIvVXNlcnMvZWRnYXJsb3Blei9Db2RlL2NvdXJzZXMvcmVhY3QvbmV4dC9wb2RjYXN0cy9wYWdlcy9bY2hhbm5lbF0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2lzb21vcnBoaWMtZmV0Y2gnO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgRXBpc29kZUxpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9FcGlzb2RlTGlzdCc7XG5pbXBvcnQgUG9kY2FzdEdyaWQgZnJvbSAnLi4vY29tcG9uZW50cy9Qb2RjYXN0R3JpZCc7XG5pbXBvcnQgRXJyb3IgZnJvbSAnLi9fZXJyb3InO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKGNvbnRleHQpIHtcbiAgbGV0IGlkQ2hhbm5lbCA9IGNvbnRleHQucXVlcnkuY2hhbm5lbDtcbiAgdHJ5IHtcbiAgICBsZXQgW3JlcUNoYW5uZWwsIHJlcUF1ZGlvcywgcmVxU2VyaWVzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWRDaGFubmVsfT92ZXJzaW9uPTJgKSxcbiAgICAgIGZldGNoKFxuICAgICAgICBgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkQ2hhbm5lbH0vYXVkaW9fY2xpcHM/dmVyc2lvbj0yYFxuICAgICAgKSxcbiAgICAgIGZldGNoKFxuICAgICAgICBgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkQ2hhbm5lbH0vY2hpbGRfY2hhbm5lbHM/dmVyc2lvbj0yYFxuICAgICAgKSxcbiAgICBdKTtcblxuICAgIGNvbnRleHQucmVzLnN0YXR1c0NvZGUgPSByZXFDaGFubmVsLnN0YXR1cztcblxuICAgIGxldCBkYXRhQ2hhbm5lbCA9IGF3YWl0IHJlcUNoYW5uZWwuanNvbigpO1xuICAgIGxldCBjaGFubmVsID0gZGF0YUNoYW5uZWwuYm9keS5jaGFubmVsO1xuXG4gICAgbGV0IGRhdGFBdWRpb3MgPSBhd2FpdCByZXFBdWRpb3MuanNvbigpO1xuICAgIGxldCBhdWRpb0NsaXBzID0gZGF0YUF1ZGlvcy5ib2R5LmF1ZGlvX2NsaXBzO1xuXG4gICAgbGV0IGRhdGFTZXJpZXMgPSBhd2FpdCByZXFTZXJpZXMuanNvbigpO1xuICAgIGxldCBzZXJpZXMgPSBkYXRhU2VyaWVzLmJvZHkuY2hhbm5lbHM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgY2hhbm5lbCxcbiAgICAgICAgYXVkaW9DbGlwcyxcbiAgICAgICAgc2VyaWVzLFxuICAgICAgICBzdGF0dXNDb2RlOiBjb250ZXh0LnJlcy5zdGF0dXNDb2RlLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9wczoge1xuICAgICAgICBjaGFubmVsOiBudWxsLFxuICAgICAgICBhdWRpb0NsaXA6IG51bGwsXG4gICAgICAgIHNlcmllczogbnVsbCxcbiAgICAgICAgc3RhdHVzQ29kZTogY29udGV4dC5yZXMuc3RhdHVzQ29kZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFubmVsKHsgY2hhbm5lbCwgYXVkaW9DbGlwcywgc2VyaWVzLCBzdGF0dXNDb2RlIH0pIHtcbiAgaWYgKHN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgIHJldHVybiA8RXJyb3Igc3RhdHVzQ29kZT17c3RhdHVzQ29kZX0gLz47XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXQgdGl0bGU9e2Ake2NoYW5uZWwudGl0bGV9IHwgUG9kY2FzdGB9PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9J2Jhbm5lcidcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtjaGFubmVsLnVybHMuYmFubmVyX2ltYWdlLm9yaWdpbmFsfSlgLFxuICAgICAgICB9fVxuICAgICAgLz5cblxuICAgICAgPGgxPntjaGFubmVsLnRpdGxlfTwvaDE+XG5cbiAgICAgIHtzZXJpZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPFBvZGNhc3RHcmlkIGNoYW5uZWxzPXtzZXJpZXN9IHRpdGxlPXtgc2VyaWVzIGRlICR7Y2hhbm5lbC50aXRsZX1gfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxoMj5VbHRpbW9zIFBvZGNhc3Q8L2gyPlxuICAgICAgPEVwaXNvZGVMaXN0IGF1ZGlvQ2xpcHM9e2F1ZGlvQ2xpcHN9IC8+XG5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLmJhbm5lciB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDI1JTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xuICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2FhYTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jaGFubmVscyB7XG4gICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICBncmlkLWdhcDogMTBweDtcbiAgICAgICAgICBwYWRkaW5nOiAxNXB4IDM2cHg7XG4gICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMTQ1cHgsIDFmcikpO1xuICAgICAgICB9XG4gICAgICAgIGEuY2hhbm5lbCB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41ZW07XG4gICAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5jaGFubmVsIGltZyB7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgaDEge1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgfVxuICAgICAgICBoMiB7XG4gICAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59XG4iXX0= */\\n/*@ sourceURL=/Users/edgarlopez/Code/courses/react/next/podcasts/pages/[channel].js */\"));\n}","map":{"version":3,"sources":["/Users/edgarlopez/Code/courses/react/next/podcasts/pages/[channel].js"],"names":["Layout","EpisodeList","PodcastGrid","Error","getServerSideProps","context","idChannel","query","channel","reqChannel","reqAudios","reqSeries","Promise","all","fetch","res","statusCode","status","dataChannel","json","body","dataAudios","audioClips","audio_clips","dataSeries","series","channels","props","error","audioClip","title","backgroundImage","urls","banner_image","original","length"],"mappings":"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","sourcesContent":["import 'isomorphic-fetch';\nimport Layout from '../components/Layout';\nimport EpisodeList from '../components/EpisodeList';\nimport PodcastGrid from '../components/PodcastGrid';\nimport Error from './_error';\n\nexport async function getServerSideProps(context) {\n  let idChannel = context.query.channel;\n  try {\n    let [reqChannel, reqAudios, reqSeries] = await Promise.all([\n      fetch(`https://api.audioboom.com/channels/${idChannel}?version=2`),\n      fetch(\n        `https://api.audioboom.com/channels/${idChannel}/audio_clips?version=2`\n      ),\n      fetch(\n        `https://api.audioboom.com/channels/${idChannel}/child_channels?version=2`\n      ),\n    ]);\n\n    context.res.statusCode = reqChannel.status;\n\n    let dataChannel = await reqChannel.json();\n    let channel = dataChannel.body.channel;\n\n    let dataAudios = await reqAudios.json();\n    let audioClips = dataAudios.body.audio_clips;\n\n    let dataSeries = await reqSeries.json();\n    let series = dataSeries.body.channels;\n\n    return {\n      props: {\n        channel,\n        audioClips,\n        series,\n        statusCode: context.res.statusCode,\n      },\n    };\n  } catch (error) {\n    return {\n      props: {\n        channel: null,\n        audioClip: null,\n        series: null,\n        statusCode: context.res.statusCode,\n      },\n    };\n  }\n}\n\nexport default function channel({ channel, audioClips, series, statusCode }) {\n  if (statusCode !== 200) {\n    return <Error statusCode={statusCode} />;\n  }\n\n  return (\n    <Layout title={`${channel.title} | Podcast`}>\n      <div\n        className='banner'\n        style={{\n          backgroundImage: `url(${channel.urls.banner_image.original})`,\n        }}\n      />\n\n      <h1>{channel.title}</h1>\n\n      {series.length > 0 && (\n        <div>\n          <PodcastGrid channels={series} title={`series de ${channel.title}`} />\n        </div>\n      )}\n\n      <h2>Ultimos Podcast</h2>\n      <EpisodeList audioClips={audioClips} />\n\n      <style jsx>{`\n        .banner {\n          width: 100%;\n          padding-bottom: 25%;\n          background-position: 50% 50%;\n          background-size: cover;\n          background-color: #aaa;\n        }\n\n        .channels {\n          display: grid;\n          grid-gap: 10px;\n          padding: 15px 36px;\n          grid-template-columns: repeat(auto-fill, minmax(145px, 1fr));\n        }\n        a.channel {\n          display: block;\n          margin-bottom: 0.5em;\n          color: #333;\n          text-decoration: none;\n        }\n        .channel img {\n          border-radius: 3px;\n          box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.15);\n          width: 100%;\n        }\n        h1 {\n          font-weight: 600;\n          padding: 15px;\n        }\n        h2 {\n          padding: 5px;\n          font-size: 0.9em;\n          font-weight: 600;\n          margin: 0;\n          text-align: center;\n        }\n      `}</style>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}