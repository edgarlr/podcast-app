{"ast":null,"code":"var _jsxFileName = \"/Users/edgarlopez/Code/courses/react/next/podcasts/components/AudioControls.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useContext, useRef, useState, useEffect } from 'react';\nimport { MdPause, MdPlayArrow, MdSkipPrevious, MdSkipNext } from 'react-icons/md';\nimport { PlayerContext } from '../contexts/PlayerContext';\nexport default function AudioControls(_ref) {\n  var clipSrc = _ref.clipSrc;\n\n  var _useContext = useContext(PlayerContext),\n      playing = _useContext.playing,\n      togglePlaying = _useContext.togglePlaying,\n      currentSong = _useContext.currentSong,\n      prevSong = _useContext.prevSong,\n      nextSong = _useContext.nextSong,\n      playlist = _useContext.playlist,\n      currentSongIndex = _useContext.currentSongIndex;\n\n  var audio = useRef('audio_tag');\n\n  var _useState = useState(0.5),\n      stateVolume = _useState[0],\n      setStateVolume = _useState[1];\n\n  var _useState2 = useState(0),\n      duration = _useState2[0],\n      setDuration = _useState2[1];\n\n  var _useState3 = useState(0),\n      currentTime = _useState3[0],\n      setCurrentTime = _useState3[1];\n\n  var fmtMSS = function fmtMSS(s) {\n    return (s - (s %= 60)) / 60 + (9 < s ? ':' : ':0') + ~~s;\n  };\n\n  var toggleAudio = function toggleAudio() {\n    return audio.current.paused ? audio.current.play() : audio.current.pause();\n  };\n\n  var handleProgress = function handleProgress(e) {\n    var compute = e.target.value * duration / 100;\n    setCurrentTime(compute);\n    audio.current.currentTime = compute;\n  }; // useEffect(() => {\n  //   audio.current.volume = stateVolume\n  //   if (playing) {\n  //     toggleAudio();\n  //   }\n  //   console.log(playlist[currentSongIndex + 1 ]);\n  // }, [])\n\n\n  return __jsx(\"div\", {\n    className: \"jsx-1242184673\" + \" \" + 'player',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, __jsx(\"audio\", {\n    onCanPlay: function onCanPlay(e) {\n      return setDuration(e.target.duration);\n    },\n    onTimeUpdate: function onTimeUpdate(e) {\n      return setCurrentTime(e.target.currentTime);\n    },\n    preload: \"true\",\n    ref: audio,\n    autoPlay: true,\n    className: \"jsx-1242184673\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, __jsx(\"source\", {\n    preload: \"true\",\n    src: currentSong.urls.high_mp3 || clipSrc,\n    type: \"audio/mpeg\",\n    className: \"jsx-1242184673\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"jsx-1242184673\" + \" \" + 'main-player',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    disabled: currentSongIndex === 0 ? true : false,\n    onClick: function onClick() {\n      return prevSong();\n    },\n    className: \"jsx-1242184673\" + \" \" + 'controller-button',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, __jsx(MdSkipPrevious, {\n    color: \"white\",\n    size: \"3em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  })), __jsx(\"button\", {\n    onClick: function onClick() {\n      toggleAudio();\n      togglePlaying();\n    },\n    className: \"jsx-1242184673\" + \" \" + 'play-button',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, playing ? __jsx(MdPause, {\n    color: \"white\",\n    size: \"3em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }) : __jsx(MdPlayArrow, {\n    color: \"white\",\n    size: \"3em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), __jsx(\"button\", {\n    disabled: currentSongIndex === playlist.length - 1 ? true : false,\n    onClick: function onClick() {\n      return nextSong();\n    },\n    className: \"jsx-1242184673\" + \" \" + 'controller-button',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, __jsx(MdSkipNext, {\n    color: \"white\",\n    size: \"3em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }))), __jsx(\"input\", {\n    onChange: handleProgress,\n    value: duration ? currentTime * 100 / duration : 0,\n    type: \"range\",\n    name: \"progressbar\",\n    id: \"pgrbar\",\n    className: \"jsx-1242184673\" + \" \" + 'slider',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1242184673\" + \" \" + 'progress-time',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1242184673\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, fmtMSS(currentTime)), __jsx(\"div\", {\n    className: \"jsx-1242184673\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, fmtMSS(duration))), __jsx(_JSXStyle, {\n    id: \"1242184673\",\n    __self: this\n  }, \"button.jsx-1242184673{outline:none;}button[disabled].jsx-1242184673{opacity:0.3;}.slider.jsx-1242184673{-webkit-appearance:none;height:4px;background-color:#5e5f5f;width:100%;outline:none;-webkit-transition:0.2s;-webkit-transition:opacity 0.2s;transition:opacity 0.2s;}.slider.jsx-1242184673::-webkit-slider-thumb{-webkit-appearance:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:2.5em;height:2.5em;border-radius:50%;border:4px solid #131414;cursor:pointer;background:#fff;}.slider.jsx-1242184673::-webkit-slider-runnable-track{-webkit-appearance:none;}.player.jsx-1242184673{height:auto;}.main-player.jsx-1242184673{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:10%;}.controller-button.jsx-1242184673{background:none;border:none;}.play-button.jsx-1242184673{width:72px;height:72px;border-radius:50%;border:1px solid white;background:none;}.play-button.jsx-1242184673:focus{outline:none;}.control-bar.jsx-1242184673{height:4px;background:#5e5f5f;width:100%;position:relative;margin:16px 0;}.progress-bar.jsx-1242184673{position:absolute;height:4px;background:#ffffff;left:0;right:20%;}.payback-controller.jsx-1242184673{position:absolute;height:20px;width:20px;border-radius:50%;border:4px solid #131414;right:0;top:0;background:#fff;margin:-12px -12px;}.progress-time.jsx-1242184673{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;color:#979797;font-size:12px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZGdhcmxvcGV6L0NvZGUvY291cnNlcy9yZWFjdC9uZXh0L3BvZGNhc3RzL2NvbXBvbmVudHMvQXVkaW9Db250cm9scy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0R2tCLEFBR3dCLEFBSUQsQUFJWSxBQVVBLEFBWUEsQUFJWixBQUdDLEFBTUcsQUFJTCxBQU9FLEFBR0YsQUFPTyxBQU9BLEFBV0wsV0FsQ0QsQUFVTyxDQXJEckIsQUE4QkEsQ0FsQ0EsQUFzREEsR0FYYyxFQXFCRCxBQU9DLEtBdkJNLENBeENQLEFBVUssQUFZbEIsSUFjQSxDQXFCcUIsQ0FQUixBQWNBLEtBL0RjLE1Bd0NGLEFBVUwsQUFjQSxPQVBYLE9BQ0csSUFQSSxBQWNXLENBaEVkLElBd0NLLENBa0JsQixNQXpEZSxFQWtEZixDQXhCK0IsQUE2Q0MsTUEvQmhDLElBdkMwQixBQStEaEIsQ0F4REksT0F5RE4sS0F4RE8sQ0F5REcsVUFoRVEsRUFRTixJQXlEQyxjQXhETSxLQXlEM0Isb0JBeERpQixXQVRqQixJQVdrQixnQkFDbEIsS0F5RGdCLFFBN0NLLE1BOENKLGVBQ2pCLHdFQTlDb0Isa0JBQ3BCIiwiZmlsZSI6Ii9Vc2Vycy9lZGdhcmxvcGV6L0NvZGUvY291cnNlcy9yZWFjdC9uZXh0L3BvZGNhc3RzL2NvbXBvbmVudHMvQXVkaW9Db250cm9scy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IE1kUGF1c2UsIE1kUGxheUFycm93LCBNZFNraXBQcmV2aW91cywgTWRTa2lwTmV4dCB9IGZyb20gJ3JlYWN0LWljb25zL21kJztcbmltcG9ydCB7UGxheWVyQ29udGV4dH0gZnJvbSAnLi4vY29udGV4dHMvUGxheWVyQ29udGV4dCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXVkaW9Db250cm9scyh7Y2xpcFNyY30pIHtcbiAgY29uc3Qge1xuICAgIHBsYXlpbmcsXG4gICAgdG9nZ2xlUGxheWluZyxcbiAgICBjdXJyZW50U29uZyxcbiAgICBwcmV2U29uZyxcbiAgICBuZXh0U29uZyxcbiAgICBwbGF5bGlzdCxcbiAgICBjdXJyZW50U29uZ0luZGV4XG4gIH0gPSB1c2VDb250ZXh0KFBsYXllckNvbnRleHQpXG5cbiAgY29uc3QgYXVkaW8gPSB1c2VSZWYoJ2F1ZGlvX3RhZycpXG4gIGNvbnN0IFtzdGF0ZVZvbHVtZSwgc2V0U3RhdGVWb2x1bWVdID0gdXNlU3RhdGUoMC41KTtcbiAgY29uc3QgW2R1cmF0aW9uLCBzZXREdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2N1cnJlbnRUaW1lLCBzZXRDdXJyZW50VGltZV0gPSB1c2VTdGF0ZSgwKTtcblxuICBjb25zdCBmbXRNU1MgPSAocykgPT4ge1xuICAgIHJldHVybiAocyAtIChzICU9IDYwKSkgLyA2MCArICg5IDwgcyA/ICc6JyA6ICc6MCcpICsgfn5zO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUF1ZGlvID0gKCkgPT5cbiAgICBhdWRpby5jdXJyZW50LnBhdXNlZCA/IGF1ZGlvLmN1cnJlbnQucGxheSgpIDogYXVkaW8uY3VycmVudC5wYXVzZSgpO1xuXG4gIGNvbnN0IGhhbmRsZVByb2dyZXNzID0gZSA9PiB7XG4gICAgbGV0IGNvbXB1dGUgPSAoZS50YXJnZXQudmFsdWUgKiBkdXJhdGlvbikgLyAxMDA7XG4gICAgc2V0Q3VycmVudFRpbWUoY29tcHV0ZSk7XG4gICAgYXVkaW8uY3VycmVudC5jdXJyZW50VGltZSA9IGNvbXB1dGU7ICAgXG4gIH1cblxuICAvLyB1c2VFZmZlY3QoKCkgPT4ge1xuICAvLyAgIGF1ZGlvLmN1cnJlbnQudm9sdW1lID0gc3RhdGVWb2x1bWVcbiAgLy8gICBpZiAocGxheWluZykge1xuICAvLyAgICAgdG9nZ2xlQXVkaW8oKTtcbiAgLy8gICB9XG4gIC8vICAgY29uc29sZS5sb2cocGxheWxpc3RbY3VycmVudFNvbmdJbmRleCArIDEgXSk7XG4gICAgXG5cbiAgLy8gfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0ncGxheWVyJz5cbiAgICAgIDxhdWRpb1xuICAgICAgICBvbkNhblBsYXk9eyhlKSA9PiBzZXREdXJhdGlvbihlLnRhcmdldC5kdXJhdGlvbil9XG4gICAgICAgIG9uVGltZVVwZGF0ZT17KGUpID0+IHNldEN1cnJlbnRUaW1lKGUudGFyZ2V0LmN1cnJlbnRUaW1lKX1cbiAgICAgICAgcHJlbG9hZD0ndHJ1ZSdcbiAgICAgICAgcmVmPXthdWRpb31cbiAgICAgICAgYXV0b1BsYXlcbiAgICAgID5cbiAgICAgICAgPHNvdXJjZVxuICAgICAgICAgIHByZWxvYWQ9J3RydWUnXG4gICAgICAgICAgc3JjPXtjdXJyZW50U29uZy51cmxzLmhpZ2hfbXAzIHx8IGNsaXBTcmN9XG4gICAgICAgICAgdHlwZT0nYXVkaW8vbXBlZydcbiAgICAgICAgLz5cbiAgICAgIDwvYXVkaW8+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdtYWluLXBsYXllcic+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFNvbmdJbmRleCA9PT0gMCA/IHRydWUgOiBmYWxzZX1cbiAgICAgICAgICBjbGFzc05hbWU9J2NvbnRyb2xsZXItYnV0dG9uJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHByZXZTb25nKCl9XG4gICAgICAgID5cbiAgICAgICAgICA8TWRTa2lwUHJldmlvdXMgY29sb3I9J3doaXRlJyBzaXplPSczZW0nIC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPSdwbGF5LWJ1dHRvbidcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICB0b2dnbGVBdWRpbygpO1xuICAgICAgICAgICAgdG9nZ2xlUGxheWluZygpO1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7cGxheWluZyA/IChcbiAgICAgICAgICAgIDxNZFBhdXNlIGNvbG9yPSd3aGl0ZScgc2l6ZT0nM2VtJyAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8TWRQbGF5QXJyb3cgY29sb3I9J3doaXRlJyBzaXplPSczZW0nIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFNvbmdJbmRleCA9PT0gcGxheWxpc3QubGVuZ3RoIC0gMSA/IHRydWUgOiBmYWxzZX1cbiAgICAgICAgICBjbGFzc05hbWU9J2NvbnRyb2xsZXItYnV0dG9uJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpPT4gbmV4dFNvbmcoKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxNZFNraXBOZXh0IGNvbG9yPSd3aGl0ZScgc2l6ZT0nM2VtJyAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8aW5wdXRcbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVByb2dyZXNzfVxuICAgICAgICB2YWx1ZT17ZHVyYXRpb24gPyAoY3VycmVudFRpbWUgKiAxMDApIC8gZHVyYXRpb24gOiAwfVxuICAgICAgICB0eXBlPSdyYW5nZSdcbiAgICAgICAgbmFtZT0ncHJvZ3Jlc3NiYXInXG4gICAgICAgIGlkPSdwZ3JiYXInXG4gICAgICAgIGNsYXNzTmFtZT0nc2xpZGVyJ1xuICAgICAgLz5cbiAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT0nY29udHJvbC1iYXInPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncHJvZ3Jlc3MtYmFyJz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGF5YmFjay1jb250cm9sbGVyJyAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PiAqL31cblxuICAgICAgPGRpdiBjbGFzc05hbWU9J3Byb2dyZXNzLXRpbWUnPlxuICAgICAgICA8ZGl2PntmbXRNU1MoY3VycmVudFRpbWUpfTwvZGl2PlxuICAgICAgICA8ZGl2PntmbXRNU1MoZHVyYXRpb24pfTwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgYnV0dG9uW2Rpc2FibGVkXSB7XG4gICAgICAgICAgb3BhY2l0eTogMC4zO1xuICAgICAgICB9XG5cbiAgICAgICAgLnNsaWRlciB7XG4gICAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAgIGhlaWdodDogNHB4O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1ZTVmNWY7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IDAuMnM7XG4gICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzO1xuICAgICAgICB9XG5cbiAgICAgICAgLnNsaWRlcjo6LXdlYmtpdC1zbGlkZXItdGh1bWIge1xuICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAgIHdpZHRoOiAyLjVlbTtcbiAgICAgICAgICBoZWlnaHQ6IDIuNWVtO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICBib3JkZXI6IDRweCBzb2xpZCAjMTMxNDE0O1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcblxuICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgIH1cblxuICAgICAgICAuc2xpZGVyOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFjayB7XG4gICAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLnBsYXllciB7XG4gICAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgICB9XG4gICAgICAgIC5tYWluLXBsYXllciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwJTtcbiAgICAgICAgfVxuICAgICAgICAuY29udHJvbGxlci1idXR0b24ge1xuICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5wbGF5LWJ1dHRvbiB7XG4gICAgICAgICAgd2lkdGg6IDcycHg7XG4gICAgICAgICAgaGVpZ2h0OiA3MnB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5wbGF5LWJ1dHRvbjpmb2N1cyB7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICAuY29udHJvbC1iYXIge1xuICAgICAgICAgIGhlaWdodDogNHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6ICM1ZTVmNWY7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIG1hcmdpbjogMTZweCAwO1xuICAgICAgICB9XG4gICAgICAgIC5wcm9ncmVzcy1iYXIge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICBoZWlnaHQ6IDRweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgcmlnaHQ6IDIwJTtcbiAgICAgICAgfVxuICAgICAgICAucGF5YmFjay1jb250cm9sbGVyIHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICBib3JkZXI6IDRweCBzb2xpZCAjMTMxNDE0O1xuICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgICAgIG1hcmdpbjogLTEycHggLTEycHg7XG4gICAgICAgIH1cbiAgICAgICAgLnByb2dyZXNzLXRpbWUge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgIGNvbG9yOiAjOTc5Nzk3O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl19 */\\n/*@ sourceURL=/Users/edgarlopez/Code/courses/react/next/podcasts/components/AudioControls.js */\"));\n}","map":{"version":3,"sources":["/Users/edgarlopez/Code/courses/react/next/podcasts/components/AudioControls.js"],"names":["React","useContext","useRef","useState","useEffect","MdPause","MdPlayArrow","MdSkipPrevious","MdSkipNext","PlayerContext","AudioControls","clipSrc","playing","togglePlaying","currentSong","prevSong","nextSong","playlist","currentSongIndex","audio","stateVolume","setStateVolume","duration","setDuration","currentTime","setCurrentTime","fmtMSS","s","toggleAudio","current","paused","play","pause","handleProgress","e","compute","target","value","urls","high_mp3","length"],"mappings":"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","sourcesContent":["import React, { useContext, useRef, useState, useEffect } from 'react'\nimport { MdPause, MdPlayArrow, MdSkipPrevious, MdSkipNext } from 'react-icons/md';\nimport {PlayerContext} from '../contexts/PlayerContext'\n\nexport default function AudioControls({clipSrc}) {\n  const {\n    playing,\n    togglePlaying,\n    currentSong,\n    prevSong,\n    nextSong,\n    playlist,\n    currentSongIndex\n  } = useContext(PlayerContext)\n\n  const audio = useRef('audio_tag')\n  const [stateVolume, setStateVolume] = useState(0.5);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n\n  const fmtMSS = (s) => {\n    return (s - (s %= 60)) / 60 + (9 < s ? ':' : ':0') + ~~s;\n  };\n\n  const toggleAudio = () =>\n    audio.current.paused ? audio.current.play() : audio.current.pause();\n\n  const handleProgress = e => {\n    let compute = (e.target.value * duration) / 100;\n    setCurrentTime(compute);\n    audio.current.currentTime = compute;   \n  }\n\n  // useEffect(() => {\n  //   audio.current.volume = stateVolume\n  //   if (playing) {\n  //     toggleAudio();\n  //   }\n  //   console.log(playlist[currentSongIndex + 1 ]);\n    \n\n  // }, [])\n\n  return (\n    <div className='player'>\n      <audio\n        onCanPlay={(e) => setDuration(e.target.duration)}\n        onTimeUpdate={(e) => setCurrentTime(e.target.currentTime)}\n        preload='true'\n        ref={audio}\n        autoPlay\n      >\n        <source\n          preload='true'\n          src={currentSong.urls.high_mp3 || clipSrc}\n          type='audio/mpeg'\n        />\n      </audio>\n\n      <div className='main-player'>\n        <button\n          disabled={currentSongIndex === 0 ? true : false}\n          className='controller-button'\n          onClick={() => prevSong()}\n        >\n          <MdSkipPrevious color='white' size='3em' />\n        </button>\n        <button\n          className='play-button'\n          onClick={() => {\n            toggleAudio();\n            togglePlaying();\n          }}\n        >\n          {playing ? (\n            <MdPause color='white' size='3em' />\n          ) : (\n            <MdPlayArrow color='white' size='3em' />\n          )}\n        </button>\n        <button\n          disabled={currentSongIndex === playlist.length - 1 ? true : false}\n          className='controller-button'\n          onClick={()=> nextSong()}\n        >\n          <MdSkipNext color='white' size='3em' />\n        </button>\n      </div>\n\n      <input\n        onChange={handleProgress}\n        value={duration ? (currentTime * 100) / duration : 0}\n        type='range'\n        name='progressbar'\n        id='pgrbar'\n        className='slider'\n      />\n      {/* <div className='control-bar'>\n        <div className='progress-bar'>\n          <div className='payback-controller' />\n        </div>\n      </div> */}\n\n      <div className='progress-time'>\n        <div>{fmtMSS(currentTime)}</div>\n        <div>{fmtMSS(duration)}</div>\n      </div>\n\n      <style jsx>{`\n        button {\n          outline: none;\n        }\n\n        button[disabled] {\n          opacity: 0.3;\n        }\n\n        .slider {\n          -webkit-appearance: none;\n          height: 4px;\n          background-color: #5e5f5f;\n          width: 100%;\n          outline: none;\n          -webkit-transition: 0.2s;\n          transition: opacity 0.2s;\n        }\n\n        .slider::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 2.5em;\n          height: 2.5em;\n          border-radius: 50%;\n          border: 4px solid #131414;\n          cursor: pointer;\n\n          background: #fff;\n        }\n\n        .slider::-webkit-slider-runnable-track {\n          -webkit-appearance: none;\n        }\n\n        .player {\n          height: auto;\n        }\n        .main-player {\n          display: flex;\n          justify-content: space-around;\n          align-items: center;\n          margin-bottom: 10%;\n        }\n        .controller-button {\n          background: none;\n          border: none;\n        }\n        .play-button {\n          width: 72px;\n          height: 72px;\n          border-radius: 50%;\n          border: 1px solid white;\n          background: none;\n        }\n        .play-button:focus {\n          outline: none;\n        }\n        .control-bar {\n          height: 4px;\n          background: #5e5f5f;\n          width: 100%;\n          position: relative;\n          margin: 16px 0;\n        }\n        .progress-bar {\n          position: absolute;\n          height: 4px;\n          background: #ffffff;\n          left: 0;\n          right: 20%;\n        }\n        .payback-controller {\n          position: absolute;\n          height: 20px;\n          width: 20px;\n          border-radius: 50%;\n          border: 4px solid #131414;\n          right: 0;\n          top: 0;\n          background: #fff;\n          margin: -12px -12px;\n        }\n        .progress-time {\n          display: flex;\n          justify-content: space-between;\n          color: #979797;\n          font-size: 12px;\n        }\n      `}</style>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}