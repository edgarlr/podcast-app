{"ast":null,"code":"var _jsxFileName = \"/Users/edgarlopez/Code/courses/react/next/podcasts/components/AudioControls.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useContext, useRef, useState, useEffect } from 'react';\nimport { MdPause, MdPlayArrow, MdSkipPrevious, MdSkipNext } from 'react-icons/md';\nimport { PlayerContext } from '../contexts/PlayerContext';\nexport default function AudioControls({\n  clipSrc\n}) {\n  const {\n    playing,\n    togglePlaying,\n    currentSong,\n    playlist,\n    currentSongIndex\n  } = useContext(PlayerContext);\n  const audio = useRef('audio_tag');\n  const {\n    0: stateVolume,\n    1: setStateVolume\n  } = useState(0.5);\n  const {\n    0: duration,\n    1: setDuration\n  } = useState(0);\n  const {\n    0: currentTime,\n    1: setCurrentTime\n  } = useState(0);\n\n  const fmtMSS = s => {\n    return (s - (s %= 60)) / 60 + (9 < s ? ':' : ':0') + ~~s;\n  };\n\n  const toggleAudio = () => audio.current.paused ? audio.current.play() : audio.current.pause();\n\n  const handleProgress = e => {\n    let compute = e.target.value * duration / 100;\n    setCurrentTime(compute);\n    audio.current.currentTime = compute;\n  };\n\n  useEffect(() => {\n    audio.current.volume = stateVolume;\n\n    if (playing) {\n      toggleAudio();\n    }\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-1898607754\" + \" \" + 'player',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, __jsx(\"audio\", {\n    onCanPlay: e => setDuration(e.target.duration),\n    onTimeUpdate: e => setCurrentTime(e.target.currentTime),\n    preload: \"true\",\n    ref: audio,\n    autoPlay: true,\n    className: \"jsx-1898607754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, __jsx(\"source\", {\n    preload: \"true\",\n    src: currentSong.urls.high_mp3 || clipSrc,\n    type: \"audio/mpeg\",\n    className: \"jsx-1898607754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"jsx-1898607754\" + \" \" + 'main-player',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    className: \"jsx-1898607754\" + \" \" + 'controller-button',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, __jsx(MdSkipPrevious, {\n    color: \"white\",\n    size: \"3em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  })), __jsx(\"button\", {\n    onClick: () => {\n      toggleAudio();\n      togglePlaying();\n    },\n    className: \"jsx-1898607754\" + \" \" + 'play-button',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, playing ? __jsx(MdPause, {\n    color: \"white\",\n    size: \"3em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }) : __jsx(MdPlayArrow, {\n    color: \"white\",\n    size: \"3em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), __jsx(\"button\", {\n    className: \"jsx-1898607754\" + \" \" + 'controller-button',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, __jsx(MdSkipNext, {\n    color: \"white\",\n    size: \"3em\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }))), __jsx(\"input\", {\n    onChange: handleProgress,\n    value: duration ? currentTime * 100 / duration : 0,\n    type: \"range\",\n    name: \"progressbar\",\n    id: \"pgrbar\",\n    className: \"jsx-1898607754\" + \" \" + 'slider',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1898607754\" + \" \" + 'progress-time',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1898607754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, fmtMSS(currentTime)), __jsx(\"div\", {\n    className: \"jsx-1898607754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, fmtMSS(duration))), __jsx(_JSXStyle, {\n    id: \"1898607754\",\n    __self: this\n  }, \"button.jsx-1898607754{outline:none;}.slider.jsx-1898607754{-webkit-appearance:none;height:4px;background-color:#5e5f5f;width:100%;outline:none;-webkit-transition:0.2s;-webkit-transition:opacity 0.2s;transition:opacity 0.2s;}.slider.jsx-1898607754::-webkit-slider-thumb{-webkit-appearance:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:2.5em;height:2.5em;border-radius:50%;border:4px solid #131414;cursor:pointer;background:#fff;}.slider.jsx-1898607754::-webkit-slider-runnable-track{-webkit-appearance:none;}.player.jsx-1898607754{height:auto;}.main-player.jsx-1898607754{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:10%;}.controller-button.jsx-1898607754{background:none;border:none;}.play-button.jsx-1898607754{width:72px;height:72px;border-radius:50%;border:1px solid white;background:none;}.play-button.jsx-1898607754:focus{outline:none;}.control-bar.jsx-1898607754{height:4px;background:#5e5f5f;width:100%;position:relative;margin:16px 0;}.progress-bar.jsx-1898607754{position:absolute;height:4px;background:#ffffff;left:0;right:20%;}.payback-controller.jsx-1898607754{position:absolute;height:20px;width:20px;border-radius:50%;border:4px solid #131414;right:0;top:0;background:#fff;margin:-12px -12px;}.progress-time.jsx-1898607754{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;color:#979797;font-size:12px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZGdhcmxvcGV6L0NvZGUvY291cnNlcy9yZWFjdC9uZXh0L3BvZGNhc3RzL2NvbXBvbmVudHMvQXVkaW9Db250cm9scy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpR2tCLEFBR3dCLEFBSVcsQUFVQSxBQVlBLEFBSVosQUFHQyxBQU1HLEFBSUwsQUFPRSxBQUdGLEFBT08sQUFPQSxBQVdMLFdBbENELEFBVU8sQ0F2QnJCLENBOUJBLEFBa0RBLEdBWGMsRUFxQkQsQUFPQyxLQXZCTSxDQXhDUCxBQVVLLEFBWWxCLElBY0EsQ0FxQnFCLENBUFIsQUFjQSxLQS9EYyxNQXdDRixBQVVMLEFBY0EsT0FQWCxPQUNHLElBUEksQUFjVyxDQWhFZCxJQXdDSyxDQWtCbEIsTUF6RGUsRUFrRGYsQ0F4QitCLEFBNkNDLE1BL0JoQyxJQXZDMEIsQUErRGhCLENBeERJLE9BeUROLEtBeERPLENBeURHLFVBaEVRLEVBUU4sSUF5REMsY0F4RE0sS0F5RDNCLG9CQXhEaUIsV0FUakIsSUFXa0IsZ0JBQ2xCLEtBeURnQixRQTdDSyxNQThDSixlQUNqQix3RUE5Q29CLGtCQUNwQiIsImZpbGUiOiIvVXNlcnMvZWRnYXJsb3Blei9Db2RlL2NvdXJzZXMvcmVhY3QvbmV4dC9wb2RjYXN0cy9jb21wb25lbnRzL0F1ZGlvQ29udHJvbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBNZFBhdXNlLCBNZFBsYXlBcnJvdywgTWRTa2lwUHJldmlvdXMsIE1kU2tpcE5leHQgfSBmcm9tICdyZWFjdC1pY29ucy9tZCc7XG5pbXBvcnQge1BsYXllckNvbnRleHR9IGZyb20gJy4uL2NvbnRleHRzL1BsYXllckNvbnRleHQnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEF1ZGlvQ29udHJvbHMoe2NsaXBTcmN9KSB7XG4gIGNvbnN0IHtcbiAgICBwbGF5aW5nLFxuICAgIHRvZ2dsZVBsYXlpbmcsXG4gICAgY3VycmVudFNvbmcsXG4gICAgcGxheWxpc3QsXG4gICAgY3VycmVudFNvbmdJbmRleFxuICB9ID0gdXNlQ29udGV4dChQbGF5ZXJDb250ZXh0KVxuXG4gIGNvbnN0IGF1ZGlvID0gdXNlUmVmKCdhdWRpb190YWcnKVxuICBjb25zdCBbc3RhdGVWb2x1bWUsIHNldFN0YXRlVm9sdW1lXSA9IHVzZVN0YXRlKDAuNSk7XG4gIGNvbnN0IFtkdXJhdGlvbiwgc2V0RHVyYXRpb25dID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtjdXJyZW50VGltZSwgc2V0Q3VycmVudFRpbWVdID0gdXNlU3RhdGUoMCk7XG5cbiAgY29uc3QgZm10TVNTID0gKHMpID0+IHtcbiAgICByZXR1cm4gKHMgLSAocyAlPSA2MCkpIC8gNjAgKyAoOSA8IHMgPyAnOicgOiAnOjAnKSArIH5+cztcbiAgfTtcblxuICBjb25zdCB0b2dnbGVBdWRpbyA9ICgpID0+XG4gICAgYXVkaW8uY3VycmVudC5wYXVzZWQgPyBhdWRpby5jdXJyZW50LnBsYXkoKSA6IGF1ZGlvLmN1cnJlbnQucGF1c2UoKTtcblxuICBjb25zdCBoYW5kbGVQcm9ncmVzcyA9IGUgPT4ge1xuICAgIGxldCBjb21wdXRlID0gKGUudGFyZ2V0LnZhbHVlICogZHVyYXRpb24pIC8gMTAwO1xuICAgIHNldEN1cnJlbnRUaW1lKGNvbXB1dGUpO1xuICAgIGF1ZGlvLmN1cnJlbnQuY3VycmVudFRpbWUgPSBjb21wdXRlOyAgIFxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhdWRpby5jdXJyZW50LnZvbHVtZSA9IHN0YXRlVm9sdW1lXG4gICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgIHRvZ2dsZUF1ZGlvKCk7XG4gICAgfVxuXG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J3BsYXllcic+XG4gICAgICA8YXVkaW9cbiAgICAgICAgb25DYW5QbGF5PXsoZSkgPT4gc2V0RHVyYXRpb24oZS50YXJnZXQuZHVyYXRpb24pfVxuICAgICAgICBvblRpbWVVcGRhdGU9eyhlKSA9PiBzZXRDdXJyZW50VGltZShlLnRhcmdldC5jdXJyZW50VGltZSl9XG4gICAgICAgIHByZWxvYWQ9J3RydWUnXG4gICAgICAgIHJlZj17YXVkaW99XG4gICAgICAgIGF1dG9QbGF5XG4gICAgICA+XG4gICAgICAgIDxzb3VyY2VcbiAgICAgICAgICBwcmVsb2FkPSd0cnVlJ1xuICAgICAgICAgIHNyYz17Y3VycmVudFNvbmcudXJscy5oaWdoX21wMyB8fCBjbGlwU3JjfVxuICAgICAgICAgIHR5cGU9J2F1ZGlvL21wZWcnXG4gICAgICAgIC8+XG4gICAgICA8L2F1ZGlvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nbWFpbi1wbGF5ZXInPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0nY29udHJvbGxlci1idXR0b24nPlxuICAgICAgICAgIDxNZFNraXBQcmV2aW91cyBjb2xvcj0nd2hpdGUnIHNpemU9JzNlbScgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9J3BsYXktYnV0dG9uJ1xuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZUF1ZGlvKCk7XG4gICAgICAgICAgICB0b2dnbGVQbGF5aW5nKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtwbGF5aW5nID8gKFxuICAgICAgICAgICAgPE1kUGF1c2UgY29sb3I9J3doaXRlJyBzaXplPSczZW0nIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxNZFBsYXlBcnJvdyBjb2xvcj0nd2hpdGUnIHNpemU9JzNlbScgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHsvKiA8TWRQbGF5QXJyb3cgY29sb3I9J3doaXRlJyBzaXplPSczZW0nIC8+ICovfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J2NvbnRyb2xsZXItYnV0dG9uJz5cbiAgICAgICAgICA8TWRTa2lwTmV4dCBjb2xvcj0nd2hpdGUnIHNpemU9JzNlbScgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGlucHV0XG4gICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVQcm9ncmVzc31cbiAgICAgICAgdmFsdWU9e2R1cmF0aW9uID8gKGN1cnJlbnRUaW1lICogMTAwKSAvIGR1cmF0aW9uIDogMH1cbiAgICAgICAgdHlwZT0ncmFuZ2UnXG4gICAgICAgIG5hbWU9J3Byb2dyZXNzYmFyJ1xuICAgICAgICBpZD0ncGdyYmFyJ1xuICAgICAgICBjbGFzc05hbWU9J3NsaWRlcidcbiAgICAgIC8+XG4gICAgICB7LyogPGRpdiBjbGFzc05hbWU9J2NvbnRyb2wtYmFyJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3Byb2dyZXNzLWJhcic+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BheWJhY2stY29udHJvbGxlcicgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj4gKi99XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdwcm9ncmVzcy10aW1lJz5cbiAgICAgICAgPGRpdj57Zm10TVNTKGN1cnJlbnRUaW1lKX08L2Rpdj5cbiAgICAgICAgPGRpdj57Zm10TVNTKGR1cmF0aW9uKX08L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zbGlkZXIge1xuICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICBoZWlnaHQ6IDRweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNWU1ZjVmO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiAwLjJzO1xuICAgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycztcbiAgICAgICAgfVxuXG4gICAgICAgIC5zbGlkZXI6Oi13ZWJraXQtc2xpZGVyLXRodW1iIHtcbiAgICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICB3aWR0aDogMi41ZW07XG4gICAgICAgICAgaGVpZ2h0OiAyLjVlbTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgYm9yZGVyOiA0cHggc29saWQgIzEzMTQxNDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgICB9XG5cbiAgICAgICAgLnNsaWRlcjo6LXdlYmtpdC1zbGlkZXItcnVubmFibGUtdHJhY2sge1xuICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wbGF5ZXIge1xuICAgICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgfVxuICAgICAgICAubWFpbi1wbGF5ZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMCU7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbnRyb2xsZXItYnV0dG9uIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICAucGxheS1idXR0b24ge1xuICAgICAgICAgIHdpZHRoOiA3MnB4O1xuICAgICAgICAgIGhlaWdodDogNzJweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XG4gICAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICAucGxheS1idXR0b246Zm9jdXMge1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbnRyb2wtYmFyIHtcbiAgICAgICAgICBoZWlnaHQ6IDRweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjNWU1ZjVmO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICBtYXJnaW46IDE2cHggMDtcbiAgICAgICAgfVxuICAgICAgICAucHJvZ3Jlc3MtYmFyIHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgaGVpZ2h0OiA0cHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIHJpZ2h0OiAyMCU7XG4gICAgICAgIH1cbiAgICAgICAgLnBheWJhY2stY29udHJvbGxlciB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgICB3aWR0aDogMjBweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgYm9yZGVyOiA0cHggc29saWQgIzEzMTQxNDtcbiAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgICBtYXJnaW46IC0xMnB4IC0xMnB4O1xuICAgICAgICB9XG4gICAgICAgIC5wcm9ncmVzcy10aW1lIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBjb2xvcjogIzk3OTc5NztcbiAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdfQ== */\\n/*@ sourceURL=/Users/edgarlopez/Code/courses/react/next/podcasts/components/AudioControls.js */\"));\n}","map":{"version":3,"sources":["/Users/edgarlopez/Code/courses/react/next/podcasts/components/AudioControls.js"],"names":["React","useContext","useRef","useState","useEffect","MdPause","MdPlayArrow","MdSkipPrevious","MdSkipNext","PlayerContext","AudioControls","clipSrc","playing","togglePlaying","currentSong","playlist","currentSongIndex","audio","stateVolume","setStateVolume","duration","setDuration","currentTime","setCurrentTime","fmtMSS","s","toggleAudio","current","paused","play","pause","handleProgress","e","compute","target","value","volume","urls","high_mp3"],"mappings":"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","sourcesContent":["import React, { useContext, useRef, useState, useEffect } from 'react'\nimport { MdPause, MdPlayArrow, MdSkipPrevious, MdSkipNext } from 'react-icons/md';\nimport {PlayerContext} from '../contexts/PlayerContext'\n\nexport default function AudioControls({clipSrc}) {\n  const {\n    playing,\n    togglePlaying,\n    currentSong,\n    playlist,\n    currentSongIndex\n  } = useContext(PlayerContext)\n\n  const audio = useRef('audio_tag')\n  const [stateVolume, setStateVolume] = useState(0.5);\n  const [duration, setDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n\n  const fmtMSS = (s) => {\n    return (s - (s %= 60)) / 60 + (9 < s ? ':' : ':0') + ~~s;\n  };\n\n  const toggleAudio = () =>\n    audio.current.paused ? audio.current.play() : audio.current.pause();\n\n  const handleProgress = e => {\n    let compute = (e.target.value * duration) / 100;\n    setCurrentTime(compute);\n    audio.current.currentTime = compute;   \n  }\n\n  useEffect(() => {\n    audio.current.volume = stateVolume\n    if (playing) {\n      toggleAudio();\n    }\n\n  }, [])\n\n  return (\n    <div className='player'>\n      <audio\n        onCanPlay={(e) => setDuration(e.target.duration)}\n        onTimeUpdate={(e) => setCurrentTime(e.target.currentTime)}\n        preload='true'\n        ref={audio}\n        autoPlay\n      >\n        <source\n          preload='true'\n          src={currentSong.urls.high_mp3 || clipSrc}\n          type='audio/mpeg'\n        />\n      </audio>\n\n      <div className='main-player'>\n        <button className='controller-button'>\n          <MdSkipPrevious color='white' size='3em' />\n        </button>\n        <button\n          className='play-button'\n          onClick={() => {\n            toggleAudio();\n            togglePlaying();\n          }}\n        >\n          {playing ? (\n            <MdPause color='white' size='3em' />\n          ) : (\n            <MdPlayArrow color='white' size='3em' />\n          )}\n          {/* <MdPlayArrow color='white' size='3em' /> */}\n        </button>\n        <button className='controller-button'>\n          <MdSkipNext color='white' size='3em' />\n        </button>\n      </div>\n\n      <input\n        onChange={handleProgress}\n        value={duration ? (currentTime * 100) / duration : 0}\n        type='range'\n        name='progressbar'\n        id='pgrbar'\n        className='slider'\n      />\n      {/* <div className='control-bar'>\n        <div className='progress-bar'>\n          <div className='payback-controller' />\n        </div>\n      </div> */}\n\n      <div className='progress-time'>\n        <div>{fmtMSS(currentTime)}</div>\n        <div>{fmtMSS(duration)}</div>\n      </div>\n\n      <style jsx>{`\n        button {\n          outline: none;\n        }\n\n        .slider {\n          -webkit-appearance: none;\n          height: 4px;\n          background-color: #5e5f5f;\n          width: 100%;\n          outline: none;\n          -webkit-transition: 0.2s;\n          transition: opacity 0.2s;\n        }\n\n        .slider::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          appearance: none;\n          width: 2.5em;\n          height: 2.5em;\n          border-radius: 50%;\n          border: 4px solid #131414;\n          cursor: pointer;\n\n          background: #fff;\n        }\n\n        .slider::-webkit-slider-runnable-track {\n          -webkit-appearance: none;\n        }\n\n        .player {\n          height: auto;\n        }\n        .main-player {\n          display: flex;\n          justify-content: space-around;\n          align-items: center;\n          margin-bottom: 10%;\n        }\n        .controller-button {\n          background: none;\n          border: none;\n        }\n        .play-button {\n          width: 72px;\n          height: 72px;\n          border-radius: 50%;\n          border: 1px solid white;\n          background: none;\n        }\n        .play-button:focus {\n          outline: none;\n        }\n        .control-bar {\n          height: 4px;\n          background: #5e5f5f;\n          width: 100%;\n          position: relative;\n          margin: 16px 0;\n        }\n        .progress-bar {\n          position: absolute;\n          height: 4px;\n          background: #ffffff;\n          left: 0;\n          right: 20%;\n        }\n        .payback-controller {\n          position: absolute;\n          height: 20px;\n          width: 20px;\n          border-radius: 50%;\n          border: 4px solid #131414;\n          right: 0;\n          top: 0;\n          background: #fff;\n          margin: -12px -12px;\n        }\n        .progress-time {\n          display: flex;\n          justify-content: space-between;\n          color: #979797;\n          font-size: 12px;\n        }\n      `}</style>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}